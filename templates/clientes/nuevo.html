{% extends 'base.html' %} {% block title %}Nuevo Cliente - Editorial{% endblock
%} {% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Nuevo Cliente</h1>
    <a
      href="{{ url_for('listar_clientes') }}"
      class="btn btn-outline-secondary"
    >
      <i class="bi bi-arrow-left me-1"></i> Volver
    </a>
  </div>

  <div class="card">
    <div class="card-body">
      <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input
            type="text"
            class="form-control"
            id="nombre"
            name="nombre"
            required
          />
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            required
          />
        </div>
        <div class="mb-3">
          <label for="telefono" class="form-label">Tel√©fono</label>
          <input
            type="text"
            class="form-control"
            id="telefono"
            name="telefono"
          />
        </div>
        <div class="mb-3">
          <label for="ciudad" class="form-label">Ciudad</label>
          <input type="text" class="form-control" id="ciudad" name="ciudad" />
        </div>
        <div class="mb-3">
          <label for="foto" class="form-label">Foto de Perfil</label>
          <div class="d-flex align-items-center mb-2">
            <div class="me-3">
              <img
                src="{{ url_for('static', filename='img/profiles/default.jpg') }}"
                alt="Foto de perfil"
                class="profile-preview"
                id="preview-image"
                width="100"
                height="100"
              />
            </div>
            <div>
              <input
                type="file"
                class="form-control"
                id="foto"
                name="foto"
                accept=".jpg,.jpeg,.png,.gif"
                onchange="previewImage(this)"
              />
              <small class="form-text text-muted"
                >Formatos permitidos: JPG, JPEG, PNG, GIF</small
              >
            </div>
          </div>
        </div>
        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-save me-1"></i> Guardar Cliente
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  .profile-preview {
    object-fit: cover;
    border-radius: 50%;
    border: 1px solid #e0e0e0;
  }
</style>

<script>
  function previewImage(input) {
    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function (e) {
        document.getElementById("preview-image").src = e.target.result;
      };
      reader.readAsDataURL(input.files[0]);
    }
  }
</script>
{% endblock %}
